\ProvidesFile{ext-biblatex-aux.def}
  [2017/12/01 v0.2 auxiliaries for extended biblatex citation style (MW)]

\def\extblx@requiredbiblatexversion{3.11}
\def\extblx@requiredbiblatexdate{2018/02/04}

\@ifpackagelater{biblatex}{\extblx@requiredbiblatexdate}
  {}
  {\PackageWarningNoLine{extbiblatex}
     {Outdated version of biblatex detected.\MessageBreak
      Upgrade to biblatex \extblx@requiredbiblatexversion\space
      (\extblx@requiredbiblatexdate) or later.\MessageBreak
      I found '\csuse{abx@version} (\csuse{abx@date})'}}

% outer cite delimiters
\newcommand*{\DeclarePairedCiteOuterDelim}[3]{%
  \csdef{extblx@delim@#1@outer@open}{#2}%
  \csdef{extblx@delim@#1@outer@close}{#3}}

\newrobustcmd*{\DeclarePairedCiteOuterDelimAlias}{%
  \@ifstar
    {\extblx@declare@paired@cite@outer@delim@alias@i}
    {\extblx@declare@paired@cite@outer@delim@alias}}
\def\extblx@declare@paired@cite@outer@delim@alias#1#2{%
  \csdef{extblx@delim@#1@outer@open}{\csuse{extblx@delim@#2@outer@open}}%
  \csdef{extblx@delim@#1@outer@close}{\csuse{extblx@delim@#2@outer@close}}}
\def\extblx@declare@paired@cite@outer@delim@alias@i#1#2{%
  \csletcs{extblx@delim@#1@outer@open}{extblx@delim@#2@outer@open}%
  \csletcs{extblx@delim@#1@outer@close}{extblx@delim@#2@outer@close}}

\newrobustcmd*{\extblx@create@mkpairedouterdelim}[1]{%
  \protected\csdef{mkpairedouter#1delim}##1{%
    \begingroup
      \blx@blxinit
      \blx@setsfcodes
      \csuse{extblx@delim@#1@outer@open}%
      ##1%
      \csuse{extblx@delim@#1@outer@close}%
    \endgroup}}

\extblx@create@mkpairedouterdelim{cite}
\extblx@create@mkpairedouterdelim{parencite}
\extblx@create@mkpairedouterdelim{textcite}
\extblx@create@mkpairedouterdelim{bibxrefcite}

% inner cite delimiters to set off year in authoryear
\newrobustcmd*{\DeclarePairedCiteInnerDelim}[3]{%
  \csdef{extblx@delim@#1@inner@open}{#2}%
  \csdef{extblx@delim@#1@inner@close}{#3}}

\newrobustcmd*{\DeclarePairedCiteInnerDelimAlias}{%
  \@ifstar
    {\extblx@declare@paired@cite@inner@delim@alias@i}
    {\extblx@declare@paired@cite@inner@delim@alias}}
\def\extblx@declare@paired@cite@inner@delim@alias#1#2{%
  \csdef{extblx@delim@#1@inner@open}{\csuse{extblx@delim@#2@inner@open}}%
  \csdef{extblx@delim@#1@inner@close}{\csuse{extblx@delim@#2@inner@close}}}
\def\extblx@declare@paired@cite@inner@delim@alias@i#1#2{%
  \csletcs{extblx@delim@#1@inner@open}{extblx@delim@#2@inner@open}%
  \csletcs{extblx@delim@#1@inner@close}{extblx@delim@#2@inner@close}}

\newcommand*{\extblx@create@mkpairedinnerdelim}[1]{%
  \protected\csdef{mkpairedinner#1delim}##1{%
    \begingroup
      \blx@blxinit
      \blx@setsfcodes
      \csuse{extblx@delim@#1@inner@open}%
      ##1%
      \csuse{extblx@delim@#1@inner@close}%
    \endgroup}}

\extblx@create@mkpairedinnerdelim{cite}
\extblx@create@mkpairedinnerdelim{parencite}
\extblx@create@mkpairedinnerdelim{textcite}

\endinput
